
;;; Definitions
:local int i_layer
:local int x

;;; Impulse
    key.m()

;;; Actions

    gotoif(layerStart, gig("Current Mine Tab") == 0)
    tab(gig("Current Mine Tab"))

layerStart:
    x = 0

digStart:
    dig(x % 4, x / 4)
    x = x + 1
    gotoif(digStart, x < 16)

    newlayer()
    i_layer = i_layer + 1
    gotoif(layerStart, i_layer < 3)

    ; Increment the tab count
    gis("Current Mine Tab", (gig("Current Mine Tab") % 12) + 1)
