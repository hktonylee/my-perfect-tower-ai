:import [Library]

;;; ---------------------------------------------------------------------------
;;; Macros
#MoveBelowTier ({PowerStonesBlackMarketTier} + 24/2 - 1)

;;; ---------------------------------------------------------------------------
;;; Declaration
:local int i

;;; ---------------------------------------------------------------------------
;;; Impulse
key.s()

;;; ---------------------------------------------------------------------------
;;; Conditions
isopen("museum")

;;; ---------------------------------------------------------------------------
;;; Actions 

LOOP_START:
    gotoif( \
        LOOP_NEXT, \
        tier("inventory", i) < {MoveBelowTier} && element("inventory", i) == {TargetPowerStonesElement} \
    )

    ; If tier >= {MoveBelowTier} || element != target,
    move("inventory", i, "equipped")

LOOP_NEXT:
    i = i + 1
    gotoif(LOOP_START, i < 24)

    i = 0
    goto(LOOP_START)

    execute("Museum/_Move")



